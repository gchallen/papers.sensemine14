\section{Introduction}
\label{sec-introduction}

\sloppypar{Smartphones have become the most popular computing platform.
Google reports 1.3~M Android device activations per day in September,
2013~\cite{google-Sep2012-activations}, while IDC projects that 224~M
smartphone units will ship worldwide in 2013 Q4, a 40\% increase over 2012
Q4~\cite{idc-smartphone-growth}. Taken as a whole, the growing network of
smartphone devices represents the largest, most pervasive distributed system
in history.}

Meanwhile, the scale of smartphone experimentation is not keeping pace. A
small survey of MobiSys'12 papers~\XXXnote{GWA: Could expand this to
MobiSys'13 or SenSys'13.} reveals that when smartphone evaluations use real
devices, they use small numbers of phones---3, 12, or
20~\cite{nowar-mobisys12,comon-mobisys12,caching-mobisys12}. Other
experiments use simulations driven by small, old, or synthesized data
sets~\cite{falcon-mobisys12,ace-mobisys12,humanmobility-mobisys12}. In either
case, large-scale results from real users would be more compelling. While
multiple factors---including recruitment, human subjects compliance, and data
collection---make large-scale smartphone experimentation challenging,
harnessing the growth of smartphones requires evaluating new ideas at scale.

\PhoneLab{} provides the features necessary for smartphone research---power,
scale, realism, locality, and relevance:

\begin{itemize}[nosep,leftmargin=*]
\vspace*{0.08in}
\item {\bf Scale:} \PhoneLab{} will grow to 700 participants, already
recruited to participate in experiments.
\item {\bf Power:} \PhoneLab{} allows application-level experiments as well
as platform-level, i.e., Android kernel, middleware, libraries, and Dalvik
virtual machine.
\item {\bf Realism:} Participants use the phones as their primary device.
\item {\bf Locality:} Most participants live in Buffalo near SUNY campuses,
enabling research requiring device-to-device interaction.
\item {\bf Relevance:} \PhoneLab{} allows researchers to stop relying on
out-of-date datasets. Instead, new data can be collected in the most
appropriate way for the experiment.
\vspace*{0.08in}
\end{itemize}

We present \PhoneLab{}, a large programmable smartphone testbed providing all
of these features together and enabling smartphone research at scales
currently impractical. \PhoneLab{} provides access to a large and stable set
of participants incentivized to participate in smartphone experimentation.
With 191~participants in 2012, and \XXXnote{XXX} in 2013, \PhoneLab{} will
grow to over 700~\XXXnote{GWA: Alter.} participants in 2014. By exploiting
locality, \PhoneLab{} increases the density and interaction rate between
participants, facilitating the evaluation of phone-to-phone protocols and
crowd-sourcing algorithms.~\XXXnote{GWA: Drum up the sensing aspects?}

By utilizing the Android open-source smartphone platform, \PhoneLab{} enables
research above and below the platform interface. Researchers can distribute
new interactive applications or non-interactive data loggers, but can also
change core Android platform components, allowing \PhoneLab{} to host systems
experiments impossible to distribute through the Play Store.

We make two contributions in this paper. First, we introduce \PhoneLab{}.
Section~\ref{sec-testbed} describes the testbed design and implementation,
and the Android logging framework and the visibility it provides into the
Android platform. Second, we demonstrate that \PhoneLab{} is powerful and
usable. Section~\ref{sec-experiment} describes a usage measurement experiment
run by 115 \PhoneLab{} participants for 21 days~\XXXnote{GWA: FIXME.}. Rather
than attempting a comprehensive analysis of the dataset, we use it to
highlight the power of \PhoneLab{} and breadth of research it supports. To do
so, Section~\ref{sec-usage} presents three results on:

\begin{itemize}
\item opportunistic charging (Section~\ref{subsec-opportunistic}),
\item 3G to Wifi transitions (Section~\ref{subsec-networktransitions}),
\item location data sharing (Section~\ref{subsec-locationsharing}).
\end{itemize}

For each, we first present our data and then describe how to use \PhoneLab{}
to perform further investigation. We hope that these examples will encourage
\PhoneLab{} use by the mobile systems community.
